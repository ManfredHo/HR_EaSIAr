<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Applicant Details</ion-title>

    <ion-buttons end>
      <button ion-button icon-only (click)="showActions()">
        <ion-icon name="more"></ion-icon>
      </button>
    </ion-buttons>

  </ion-navbar>
</ion-header>

<ion-content>

  <div *ngIf="applicant">

    <ion-card>
      <ion-card-header>
        {{ applicant['full_name'] }}
      </ion-card-header>

      <ion-card-content>

        <div style="text-align: center;">
          <img [style.backgroundImage]="'url('+userImage+')'" class="user-image"/>
        </div>

        <!--<ion-item>-->
        <!--<ion-label stacked>Full name</ion-label>-->
        <!--<ion-input disabled value="{{ applicant['full_name'] }}"></ion-input>-->
        <!--</ion-item>-->

        <ion-item>
          <ion-label stacked>ID/FIN</ion-label>
          <ion-input disabled value="{{ applicant['id_number'] }}"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked>Nationality</ion-label>
          <ion-input disabled value="{{ applicant['nationality'] }}"></ion-input>
        </ion-item>

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label stacked>Gender</ion-label>
              <ion-input disabled value="{{ applicant['gender'] == '1' ? 'Male' : 'Female' }}"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col>
            <ion-item>
              <ion-label stacked>Race</ion-label>
              <ion-input disabled value="{{ decodeRace(applicant['race']) }}"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label stacked>Country of Residence</ion-label>
              <ion-input disabled value="{{ applicant['country_of_residence'] }}"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col>
            <ion-item>
              <ion-label stacked>Country of Birth</ion-label>
              <ion-input disabled value="{{ applicant['birth_country'] }}"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

      </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-icon name="eye"></ion-icon>
        Video Analysis
      </ion-card-header>
      <ion-card-content>

        <ion-item>
          <ion-label stacked>Video Duration</ion-label>
          <ion-input disabled value="{{ videoDuration }}"></ion-input>
        </ion-item>

        <div class="video-charts" style="padding-top:16px">
          <h5>Smile Index</h5>
          <video-chart [frames]="analysisFrames['smile']" type="smile"></video-chart>

          <h5>Emotion: Happy</h5>
          <video-chart [frames]="analysisFrames['emotion-happy']" type="emotion-happy"></video-chart>

          <h5>Emotion: Calm</h5>
          <video-chart [frames]="analysisFrames['emotion-calm']" type="emotion-calm"></video-chart>

          <h5>Emotion: Confused</h5>
          <video-chart [frames]="analysisFrames['emotion-confused']" type="emotion-confused"></video-chart>
        </div>

        <ion-item>
          <ion-label stacked>Video Quality</ion-label>
          <ion-input disabled value="{{ videoQuality }}"></ion-input>
        </ion-item>

        <div class="video-charts" style="padding-top:16px">
          <h5>Brightness</h5>
          <video-chart [frames]="analysisFrames['brightness']" type="brightness"></video-chart>

          <h5>Sharpness</h5>
          <video-chart [frames]="analysisFrames['sharpness']" type="sharpness"></video-chart>


        </div>

        <button ion-button (click)="playVideo()">Play Video</button>
      </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-icon name="mic"></ion-icon>
        Audio Analysis
      </ion-card-header>
      <ion-card-content>
        <div class="video-charts" style="padding-top:16px">
          <h5>Emotion: Happy</h5>
          <video-chart [frames]="analysisFrames['emotion-happy']" type="emotion-happy"></video-chart>
        </div>
      </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-icon name="call"></ion-icon>
        Contact Information
      </ion-card-header>
      <ion-card-content>
        <ion-item>
          <ion-label stacked>Email</ion-label>
          <ion-input disabled value="{{ applicant['email'] }}"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked>Phone number</ion-label>
          <ion-input disabled value="{{ applicant['phone_number'] }}"></ion-input>
        </ion-item>
      </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-header>
        Submission Details
      </ion-card-header>
      <ion-card-content>
        <ion-item>
          <ion-label stacked>Timestamp</ion-label>
          <ion-input disabled value="{{ applicant['created'] | date : 'medium'}}"></ion-input>
        </ion-item>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
